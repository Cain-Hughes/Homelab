# Week 4 â€” February 2026

This week I focused on cleaning up a few long-standing annoyances in my container and storage workflows. Nothing flashy, but very satisfying improvements from a reliability and quality-of-life standpoint.

---

## ðŸ” VPN + Port Forwarding Automation

One recurring friction point in my setup involved **Gluetun** and dynamic port forwarding.

I use Gluetun to ensure certain Docker containers are forced through a VPN tunnel. The container itself works extremely well, but port forwarding introduced some operational headaches.

Originally, I was using Mullvad VPN and later discovered they do not support port forwarding. While that is perfectly fine for most use cases, it becomes limiting when running services that benefit from an externally reachable port (for example, properly participating in peer-to-peer traffic).

To resolve this, I migrated to Proton VPN, which provides a forwarded port compatible with Gluetun. The forwarded port is conveniently exposed via Gluetunâ€™s temporary files, making it readable by other services such as qBittorrent.

This worked great â€” until container restarts entered the picture.

Because the forwarded port changes whenever the VPN session resets, I found myself repeatedly updating the listening port in qBittorrent. Functional, but tedious.

### âœ… Solution

My goal this week was simple:

> Eliminate manual port updates entirely.

I implemented a small Python automation script that:

- Reads credentials from an environment file  
- Validates or generates an API session cookie  
- Retrieves the currently configured qBittorrent port  
- Reads Gluetunâ€™s forwarded port value  
- Compares both values  
- Updates qBittorrent when a mismatch is detected  

The script runs as a cron job every five minutes, making port changes effectively self-healing.

Result:  
No more manual corrections after restarts or VPN reconnections.

---

## ðŸ“¦ Storage Migration â€” SMB â†’ NFS

I also migrated my primary media share from **SMB to NFS**.

This change was driven by intermittent file access quirks observed during active seeding scenarios. While SMB functioned correctly overall, NFS is generally more predictable and native-feeling in Linux-heavy environments.

Early observations:

- Cleaner permission behavior  
- Reduced odd locking / access conflicts  
- Overall smoother interaction with containers  

Iâ€™ll continue monitoring stability and will report any meaningful findings in future entries.

---

## ðŸ©º Gluetun Health Check Improvement

A smaller but worthwhile refinement involved my Gluetun health logic.

In rare cases, the VPN tunnel would establish successfully but no forwarded port would be assigned by the provider. From the containerâ€™s perspective, everything appeared healthy â€” yet dependent workflows would silently degrade.

To prevent this, I modified the unhealthy check to verify that the forwarded port file:

- Exists  
- Contains a valid port value  

This allows Gluetun to be treated as unhealthy when the tunnel is technically up but functionally incomplete.

---

## âœ… Summary

This weekâ€™s theme was reliability and automation:

- Removed manual VPN port management  
- Improved container resilience  
- Simplified Linux storage behavior  
- Tightened health validation logic  

Small changes, noticeable impact.

---

## Next Steps

- Continue validating NFS behavior under load  
- Watch for edge cases in port automation logic  
- Iterate on monitoring & self-healing patterns  
